+++
author = "pureone"
title = "DDD"
date = "2020-07-13"
description = "ddd tips"
categories = [
  "DDD",
]
tags = [
    "DDD",
]
+++

## DDD
- 必要なドメインの知識をコードへ落とし込む
- ドメインの知識に焦点をあてた設計手法

> ドメイン
- ソフトウェアを適用する(プログラム対象の) *領域* のことであり、ドメインに何かではなく、ドメインに含まれるものは何かが重要

> 知識に焦点をあてる
- ソフトウェアの目的は利用者のドメインにおける問題の解決であり、ドメインに向き合う必要がある。

> ドメインモデル
- モデルとは、 *現実の事象または概念を取捨選択して抽象化した概念* であり、ドメインの概念をモデリング（分析）したものがドメインモデル。
- ドメインが変化した場合は、ドメインモデルに伝わり、ドメインオブジェクトへと伝わる
- `ドメインの概念` <---> `ドメインモデル` <---> `ドメインオブジェクト`

> まとめ
アプリケーション実現パターン -> 利用する -> ドメイン知識を表現するパターン

## 値オブジェクト
> 等価性によって比較される、交換が可能である、不変である

> ルールが存在している、単体で取り扱いたい場合は値オブジェクトに含める
- 氏名は姓と名で構成されるというルール

> 振る舞いを定義できる
- 加算のみ定義することで他の演算を排除できる

> モチベーション
- 表現力を増す、不正な値を存在させない、誤った代入を防ぐ、ロジックの散在を防ぐ(DRY)

## エンティティ
> 属性ではなく同一性(identity)の実体により区別される、同じ属性でも区別される、可変である
- システム上のユーザ情報は、名前が変更されても、年齢を重ねても、メールアドレスを変更しても別のユーザには変化しない

> ライフサイクルを持つ場合はエンティティである。

## ドメインサービス
- TODO

## リポジトリ
- リポジトリの責務はドメインオブジェクトの永続化(保存と復元)や再構築


## MEMO
ドメイン知識の表現パターン
- [x] 値オブジェクト
- [x] エンティティ
- [ ] ドメインサービス

アプリケーション実現のパターン
- [x] リポジトリ
- [ ] アプリケーション
- [ ] ファクトリ

ドメイン知識の表現の発展パターン
- [ ] 集約
- [ ] 仕様

